# 브라우저 자동화의 함정: 계정 정지 경험담

*그날 새벽, 구글이 내 계정을 막았다.*

---

## 모든 게 잘 돌아가고 있었다

2026년 2월 3일 새벽 1시.

10개의 AI 에이전트가 열심히 일하고 있었다. 판매 페이지도 만들고, 문서도 정리하고, 테스트도 작성하고. 완벽했다.

그런데 새벽 4시쯤, 텔레그램 알림이 울렸다.

> ⚠️ 브라우저 에이전트 에러: 구글 로그인 필요

무슨 소리지? 브라우저 프로필에 로그인 상태를 저장해뒀는데.

직접 확인해보니, 구글이 **봇으로 의심되는 활동**을 감지하고 계정을 일시 정지시켰다.

---

## 무엇이 문제였나

### 1. 같은 브라우저 프로필 공유

개인 계정과 봇 계정이 같은 브라우저 프로필을 썼다. 봇이 비정상적인 행동을 하면, 그 프로필에 로그인된 **모든 계정**이 의심받는다.

```
~/.openclaw/browser-profile/
├── 구글 계정 A (개인)
├── 구글 계정 B (개인)
└── X 계정 (봇)  ← 여기서 문제 발생
```

### 2. humanDelay가 너무 짧았다

자동화 코드에서 액션 사이 딜레이를 500ms로 설정했다. 사람은 그렇게 빠르게 클릭하지 않는다.

```typescript
// 문제가 된 코드
await page.click(selector);
await delay(500);  // 0.5초 - 너무 빠름
await page.click(anotherSelector);
```

### 3. 패턴이 너무 규칙적

정확히 10분마다, 정확히 같은 순서로 액션을 수행했다. 사람은 그렇게 규칙적이지 않다.

```
10:00:00 - 타임라인 스크롤
10:00:05 - 첫 번째 포스트 좋아요
10:00:10 - 두 번째 포스트 좋아요
...
10:10:00 - 타임라인 스크롤 (반복)
```

구글과 SNS 플랫폼은 이런 패턴을 **봇 시그니처**로 인식한다.

---

## 즉시 취한 조치

### 1. 모든 SNS Cron 비활성화

```bash
# 55개 Cron 전부 비활성화
openclaw cron list --enabled | xargs -I {} openclaw cron disable {}
```

더 이상의 피해를 막기 위해 브라우저 자동화를 전부 멈췄다.

### 2. 브라우저 프로필 분리 계획

```
AS-IS:
~/.openclaw/browser-profile/  ← 모든 계정 공유

TO-BE:
~/.openclaw/profiles/
├── personal/    ← 개인 계정 전용
└── automation/  ← 봇 전용 (격리)
```

### 3. MEMORY.md에 교훈 기록

```markdown
## 🚨 2026-02-03 교훈
- **브라우저 자동화 주의** — 구글 계정 봇 제재당함
- 브라우저 프로필 분리 필요 (개인 vs 봇)
- humanDelay 더 길게, 랜덤 간격 필요
```

---

## 안전한 브라우저 자동화 규칙

이 경험으로 배운 것들:

### 1. 프로필 완전 분리

봇용 브라우저 프로필은 **개인 계정과 절대 섞지 않는다**. 가능하면 다른 기기나 VM에서 돌린다.

### 2. 랜덤 딜레이

```typescript
// Before
await delay(500);

// After
await delay(randomBetween(2000, 5000));  // 2-5초 랜덤
```

### 3. 랜덤 액션 순서

```typescript
// Before
actions = ['like', 'scroll', 'follow'];
for (action of actions) execute(action);

// After
actions = shuffle(['like', 'scroll', 'follow']);
for (action of actions) execute(action);
```

### 4. 세션 시간 제한

사람은 SNS를 몇 시간씩 연속으로 하지 않는다.

```typescript
const MAX_SESSION_MINUTES = 30;
const BREAK_MINUTES = randomBetween(60, 180);
```

### 5. 마우스 움직임 시뮬레이션

클릭만 하면 봇처럼 보인다. 마우스를 자연스럽게 움직인 후 클릭.

```typescript
await page.mouse.move(x + random(), y + random(), { steps: 25 });
await delay(randomBetween(100, 300));
await page.click(selector);
```

---

## CLI 우선 정책

이 사건 이후, 프레임워크의 **철학**이 바뀌었다.

> "브라우저 직접 조작은 최후의 수단. CLI가 가능하면 CLI로."

```markdown
# AGENTS.md 업데이트

## ⚠️ 최우선 규칙: CLI만 사용

모든 SNS 작업은 반드시 CLI를 통해서만 수행한다.

✅ 올바름: npx tsx src/cli/index.ts engage -c x -a like
❌ 금지됨: 브라우저 직접 조작 (browser tool 사용)

브라우저 직접 조작은 **디버깅/개발 목적**으로만 허용.
```

CLI는 API를 통해 동작하므로 브라우저 자동화보다 훨씬 안전하다.

---

## 계정 복구

다행히 구글 계정은 24시간 후 복구됐다. 본인 인증 절차를 거치면 된다.

하지만 **두 번째 제재**는 더 심각할 수 있다. 영구 정지도 가능.

그래서 지금은 브라우저 자동화를 **극도로 보수적**으로 사용한다.

---

## 교훈 요약

| 실수 | 해결책 |
|------|--------|
| 프로필 공유 | 봇 전용 프로필 분리 |
| 딜레이 500ms | 2-5초 랜덤 딜레이 |
| 규칙적 패턴 | 랜덤 순서 + 랜덤 간격 |
| 연속 세션 | 30분 세션 + 1-3시간 휴식 |
| 직접 클릭 | 마우스 이동 시뮬레이션 |
| 브라우저 우선 | CLI 우선 정책 |

---

## 마치며

브라우저 자동화는 **양날의 검**이다.

잘 쓰면 엄청난 생산성 향상을 얻을 수 있다. 하지만 플랫폼 정책을 어기면, 그동안 쌓아온 계정이 한순간에 날아갈 수 있다.

**안전하게 자동화하자.**

- 프로필 분리
- 랜덤 딜레이
- CLI 우선
- 항상 백업 계정

이 경험담이 누군가에게 도움이 되길 바란다.

---

*이 글은 2026년 2월 3일 실제로 발생한 계정 정지 사건을 바탕으로 작성되었습니다.*
